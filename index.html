<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ChromaQuest: El Mundo sin Color</title>
  <style>
    /* === Reset y base === */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: white;
      min-height: 100vh;
      padding: 1rem;
    }
    main {
      max-width: 900px;
      margin: 0 auto;
      width: 100%;
    }
    /* === Header === */
    header {
      text-align: center;
      padding: 1.5rem 0;
    }
    .game-title {
      font-size: 2.2rem;
      margin-bottom: 0.5rem;
    }
    .author-credit {
      font-size: 0.9rem;
      opacity: 0.8;
    }
    /* === Men√∫ principal === */
    #mainMenu {
      text-align: center;
      padding: 2rem 0;
    }
    .settings {
      margin-top: 1.5rem;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }
    .settings label {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.3rem;
    }
    .settings input[type="range"] {
      width: 120px;
    }
    .btn {
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background: #6a11cb;
      color: white;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      margin: 0.5rem;
      transition: background 0.3s;
    }
    .btn:hover {
      background: #2575fc;
    }
    /* === Juego === */
    #gameLevel {
      display: none;
      padding: 1.5rem 0;
    }
    .level-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
      gap: 0.8rem;
    }
    #levelTitle {
      font-size: 1.6rem;
      font-weight: bold;
    }
    #scoreDisplay {
      background: rgba(255,255,255,0.15);
      padding: 0.4rem 1rem;
      border-radius: 20px;
      font-weight: bold;
    }
    #gameArea {
      background: rgba(0,0,0,0.2);
      border-radius: 16px;
      padding: 1.5rem;
      min-height: 400px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    /* === Estilos generales de juegos === */
    .instructions h3 {
      margin-bottom: 0.6rem;
      color: #ffcc00;
    }
    .color-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
      gap: 12px;
      margin: 1rem 0;
      justify-content: center;
    }
    .color-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid white;
    }
    .sequence-display {
      width: 100%;
      height: 60px;
      background: rgba(0,0,0,0.3);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      margin: 1rem 0;
    }
    .sequence-dot {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      margin: 0 4px;
      display: inline-block;
    }
    /* === Mezcla === */
    .mixing-game {
      text-align: center;
      max-width: 500px;
      width: 100%;
    }
    .color-sources {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin: 1rem 0;
    }
    .color-source {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: grab;
      border: 2px solid white;
    }
    .mixing-pot {
      width: 120px;
      height: 120px;
      border: 3px dashed white;
      border-radius: 50%;
      margin: 1.5rem auto;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      color: white;
    }
    .mixing-pot.dragover {
      background: rgba(255,255,255,0.2);
      border-color: #4fc3f7;
    }
    .result-display {
      margin-top: 1rem;
      padding: 0.8rem;
      background: rgba(0,0,0,0.2);
      border-radius: 10px;
      text-align: center;
    }
    /* === Laberinto === */
    .maze-container {
      position: relative;
      display: inline-block;
      margin: 1rem 0;
    }
    .maze-grid {
      display: grid;
      grid-template-columns: repeat(8, 36px);
      grid-template-rows: repeat(7, 36px);
      gap: 2px;
    }
    .maze-cell {
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }
    .wall { background: #555; }
    .path { background: #2c2c44; }
    .exit { background: #ffcc00; color: #000; }
    .player {
      position: absolute;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      pointer-events: none;
    }
    .maze-controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      margin-top: 1rem;
    }
    .maze-row {
      display: flex;
      gap: 8px;
    }
    /* === Combinaci√≥n, Visual, Reflejo, etc. === */
    .element-pool {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin: 1rem 0;
    }
    .element {
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      cursor: grab;
    }
    .combination-circle {
      width: 100px;
      height: 100px;
      border: 3px dashed white;
      border-radius: 50%;
      margin: 1rem auto;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
    }
    .combination-circle.dragover {
      background: rgba(255,255,255,0.2);
      border-color: #4fc3f7;
    }
    .pattern-row {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin: 1rem 0;
      font-size: 1.8rem;
    }
    .visual-option, .reflection-option {
      padding: 0.8rem;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      cursor: pointer;
      margin: 0.5rem;
    }
    .visual-option:hover, .reflection-option:hover {
      background: rgba(255,255,255,0.2);
    }
    /* === Ritmo === */
    .rhythm-track {
      position: relative;
      width: 100%;
      height: 300px;
      background: rgba(0,0,0,0.2);
      border-radius: 10px;
      margin: 1rem 0;
      overflow: hidden;
    }
    .hit-zone {
      position: absolute;
      bottom: 50px;
      left: 0;
      right: 0;
      height: 40px;
      border-top: 2px solid #ffcc00;
      border-bottom: 2px solid #ffcc00;
    }
    .rhythm-note {
      position: absolute;
      width: 50px;
      height: 30px;
      background: #ff5252;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }
    .rhythm-controls {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 1rem;
    }
    .rhythm-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      font-size: 1.4rem;
    }
    /* === Temporizador === */
    .timer-bar {
      height: 8px;
      background: #4caf50;
      border-radius: 4px;
      margin: 1rem 0;
      transition: width 1s linear;
    }
    /* === Estrategia === */
    .strategy-grid {
      display: grid;
      grid-template-columns: repeat(4, 60px);
      grid-template-rows: repeat(4, 60px);
      gap: 6px;
      justify-content: center;
      margin: 1rem 0;
    }
    .strategy-cell {
      width: 60px;
      height: 60px;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      cursor: pointer;
      border-radius: 8px;
    }
    .strategy-cell.visited {
      background: #4caf50;
      color: white;
    }
    /* === Mensajes === */
    .error-message {
      background: #ff4757;
      color: white;
      padding: 1rem;
      border-radius: 10px;
      margin: 1rem 0;
      text-align: center;
      font-weight: bold;
    }
    /* === Responsive === */
    @media (max-width: 768px) {
      .game-title { font-size: 1.8rem; }
      #levelTitle { font-size: 1.4rem; }
      .maze-grid {
        grid-template-columns: repeat(8, 28px);
        grid-template-rows: repeat(7, 28px);
      }
      .maze-cell, .player {
        width: 28px;
        height: 28px;
        font-size: 1rem;
      }
      .color-btn, .color-source { width: 45px; height: 45px; }
      .rhythm-track { height: 250px; }
      .element, .pattern-symbol { font-size: 1.4rem; }
    }
  </style>
</head>
<body>
  <main>
    <header>
      <h1 class="game-title">ChromaQuest</h1>
      <div class="author-credit">Por Miguel √Ångel Buelvas Ortega</div>
    </header>

    <!-- Men√∫ Principal -->
    <div id="mainMenu">
      <p>Un viaje para restaurar el color al mundo</p>
      <button class="btn" onclick="game.startGame()">Jugar</button>
      <div class="settings">
        <label>üéµ M√∫sica: <input type="range" id="musicVolume" min="0" max="100"></label>
        <label>üîä Efectos: <input type="range" id="sfxVolume" min="0" max="100"></label>
      </div>
    </div>

    <!-- Nivel de Juego -->
    <div id="gameLevel">
      <div class="level-header">
        <h2 id="levelTitle">Nivel 1: El Bosque Gris</h2>
        <div id="scoreDisplay">Puntos: 0</div>
      </div>
      <div id="gameArea">
        <!-- Los niveles se cargar√°n aqu√≠ -->
      </div>
      <button class="btn" style="margin-top: 1.5rem;" onclick="game.goBack()">‚Üê Volver al men√∫</button>
    </div>
  </main>

  <!-- Carga el archivo game.js externo -->
  <script src="game.js"></script>
</body>
</html>
